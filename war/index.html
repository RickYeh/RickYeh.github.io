<!DOCTYPE html>
<html lang="en-us">

    <head>

        <title>A Simple War App</title>
        
        <script type="text/javascript">


        var numCards = 52;
        var deckOne = [];
        var deckTwo = [];
        var deckOneCounter = 0;
        var deckTwoCounter = 0;
        var playerOneScore = 0;
        var playerTwoScore = 0;

        // Populate the decks

        for (var i = 1; i<=numCards; i++){
            deckOne.push(i);
        }

        for (var i = 1; i<=numCards; i++){
            deckTwo.push(i);
        }

        // Shuffle the cards
        shuffleCards(deckOne);
        shuffleCards(deckTwo);

        var playerOneCurrentCard = deckOne[deckOneCounter];
        var playerTwoCurrentCard = deckTwo[deckTwoCounter];

        // Shuffle function using the Fisher-Yates Method
        function shuffleCards(array) {
            var counter = array.length;
            var temp;
            var index;

            while (counter > 0) {
            index = Math.floor(Math.random() * counter);

            counter--;

            temp = array[counter];
            array[counter] = array[index];
            array[index] = temp;
            }

            return array;
        }

        function draw() {
            console.log("Player One draws a card.");
            console.log(playerOneCurrentCard);

            console.log("Player Two draws a card.");
            console.log(playerTwoCurrentCard);

            // Compare the Two Cards to Determine Winner
            if (playerOneCurrentCard > playerTwoCurrentCard) {
                console.log("Player 1 Wins!");
                playerOneScore++;
            } else if (playerTwoCurrentCard > playerOneCurrentCard) {
                console.log("Player 2 Wins!");
                playerTwoScore++;
            } else {
                console.log("It's a tie!");
            }

            // Print the current Score
            console.log("The current score is: Player One: " + playerOneScore + " -  Player Two: " + playerTwoScore);

            // Increment the counters of each deck
            deckOneCounter++;
            deckTwoCounter++;

            // Take the next card on the deck to be the current card
            playerOneCurrentCard = deckOne[deckOneCounter];
            playerTwoCurrentCard = deckTwo[deckTwoCounter];

            //Determine winner if last card is pulled
            if (deckOneCounter === numCards){
                console.log("The game is over!  You're out of cards!");

                if (playerOneScore > playerTwoScore) {
                    console.log("Congratulations Player One, you're the Champion!");
                } else if (playerTwoScore > playerOneScore) {
                    console.log("Congratulations Player Two, you're the Champion!");
                } else {
                    console.log("Wow!  It's a tie!  Better play again!");
                }
            }

        }

        function reset(){

            console.log("");
            console.log("Starting New Game...");
            console.log("Shuffling Cards...");
            console.log("Reticulating Splines...");
            console.log("");

            // Shuffle the cards
            shuffleCards(deckOne);
            shuffleCards(deckTwo);

            // Reset the array counter to go back to beginning of deck
            deckOneCounter = 0;
            deckTwoCounter = 0;

            // Reset the overall scores
            playerOneScore = 0;
            playerTwoScore = 0;     
        }


        </script>

        <style type="text/css">
        </style>

    </head>

    <body>
        <h1>THIS IS (simple) WAR!!!</h1>

        <button onclick="draw()" id="draw" type="button">Draw!</button>
        <button onclick="reset()" id="reset" type="button">New Game</button>

    </body>
</html>